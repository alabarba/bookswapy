"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var g = require("window-or-global");
require("reflect-metadata");
exports.defaultMetadataKey = g.ConvectorDefaultMetadataKey || Symbol('default');
g.ConvectorDefaultMetadataKey = exports.defaultMetadataKey;
function Default(defaultValue) {
    return function (target, key) {
        var defaults = Reflect.getMetadata(exports.defaultMetadataKey, target) || {};
        Reflect.defineMetadata(exports.defaultMetadataKey, tslib_1.__assign({}, defaults, (_a = {}, _a[key] = defaultValue, _a)), target);
        var _a;
    };
}
exports.Default = Default;
function getDefaults(obj) {
    var defaults = Reflect.getMetadata(exports.defaultMetadataKey, obj);
    return !defaults ? {} : Object.keys(defaults)
        .reduce(function (result, k) {
        return (tslib_1.__assign({}, result, (_a = {}, _a[k] = typeof defaults[k] === 'function' ? defaults[k]() : defaults[k], _a)));
        var _a;
    }, {});
}
exports.getDefaults = getDefaults;
//# sourceMappingURL=default.decorator.js.map