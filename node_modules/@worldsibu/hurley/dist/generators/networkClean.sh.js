"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var base_1 = require("./base");
var path_1 = require("path");
var NetworkCleanShOptions = (function () {
    function NetworkCleanShOptions() {
    }
    return NetworkCleanShOptions;
}());
exports.NetworkCleanShOptions = NetworkCleanShOptions;
var NetworkCleanShGenerator = (function (_super) {
    tslib_1.__extends(NetworkCleanShGenerator, _super);
    function NetworkCleanShGenerator(filename, path, options) {
        var _this = _super.call(this, filename, path) || this;
        _this.options = options;
        _this.success = path_1.join(_this.path, 'networkclean.sh.successful');
        _this.contents = "#!/bin/bash\nset -e\n#clean\ndocker stop $(docker ps -a | awk '$2~/hyperledger/ {print $1}') \ndocker rm -f $(docker ps -a | awk '$2~/hyperledger/ {print $1}') $(docker ps -a | awk '{ print $1,$2 }' | grep dev-peer | awk '{print $1 }') || true\n" + (_this.options.removeImages ? "docker rmi -f $(docker images | grep dev-peer | awk '{print $3}') || true" : "") + "\n";
        return _this;
    }
    return NetworkCleanShGenerator;
}(base_1.BaseGenerator));
exports.NetworkCleanShGenerator = NetworkCleanShGenerator;
//# sourceMappingURL=networkClean.sh.js.map